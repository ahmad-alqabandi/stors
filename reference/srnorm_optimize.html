<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Optimizing Normal Distribution proposal — srnorm_optimize • stors</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Optimizing Normal Distribution proposal — srnorm_optimize"><meta name="description" content="The srnorm_optimize() function generates an optimized proposal for a targeted Normal distribution.
The proposal can be customized and adjusted based on various options provided by the user."><meta property="og:description" content="The srnorm_optimize() function generates an optimized proposal for a targeted Normal distribution.
The proposal can be customized and adjusted based on various options provided by the user."><meta property="og:image" content="https://ahmad-alqabandi.github.io/stors/logo.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">stors</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Sampling_Built_in_distributions.html">Sampling from Built-in Distributions using stors</a></li>
    <li><a class="dropdown-item" href="../articles/Sampling_user_distributions.html">Sampling from User-Defined Distributions using stors</a></li>
    <li><a class="dropdown-item" href="../articles/stors_package.html">stors package</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Optimizing Normal Distribution proposal</h1>

      <div class="d-none name"><code>srnorm_optimize.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>srnorm_optimize()</code> function generates an optimized proposal for a targeted Normal distribution.
The proposal can be customized and adjusted based on various options provided by the user.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">srnorm_optimize</span><span class="op">(</span></span>
<span>  mean <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sd <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xl <span class="op">=</span> <span class="op">-</span><span class="cn">Inf</span>,</span>
<span>  xr <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  steps <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  proposal_range <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  theta <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  target_sample_size <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  symmetric <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-mean">mean<a class="anchor" aria-label="anchor" href="#arg-mean"></a></dt>
<dd><p>(optional) Numeric. Mean parameter of the Normal distribution. Defaults to <code>NULL</code>, which implies a scalable proposal with <code>mean = 0</code>.</p></dd>


<dt id="arg-sd">sd<a class="anchor" aria-label="anchor" href="#arg-sd"></a></dt>
<dd><p>(optional) Numeric. Standard deviation of the target Normal distribution. Defaults to <code>NULL</code>, which implies a scalable proposal with <code>sd = 1</code>.</p></dd>


<dt id="arg-xl">xl<a class="anchor" aria-label="anchor" href="#arg-xl"></a></dt>
<dd><p>Numeric. Left truncation bound for the target distribution. Defaults to <code>-Inf</code>, representing no left truncation.</p></dd>


<dt id="arg-xr">xr<a class="anchor" aria-label="anchor" href="#arg-xr"></a></dt>
<dd><p>Numeric. Right truncation bound for the target distribution. Defaults to <code>Inf</code>, representing no right truncation.</p></dd>


<dt id="arg-steps">steps<a class="anchor" aria-label="anchor" href="#arg-steps"></a></dt>
<dd><p>(optional) Integer. Desired number of steps in the proposal. Defaults to <code>NULL</code>, which means the number of steps is determined automatically during optimization.</p></dd>


<dt id="arg-proposal-range">proposal_range<a class="anchor" aria-label="anchor" href="#arg-proposal-range"></a></dt>
<dd><p>(optional) Numeric vector. Specifies the range for optimizing the steps part of the proposal. Defaults to <code>NULL</code>, indicating automatic range selection.</p></dd>


<dt id="arg-theta">theta<a class="anchor" aria-label="anchor" href="#arg-theta"></a></dt>
<dd><p>Numeric. A parameter for proposal optimization. Defaults to 0.1.</p></dd>


<dt id="arg-target-sample-size">target_sample_size<a class="anchor" aria-label="anchor" href="#arg-target-sample-size"></a></dt>
<dd><p>(optional) Integer. Target sample size for proposal optimization. Defaults to <code>1000</code>.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Boolean. If <code>TRUE</code>, detailed optimization information, including areas and steps, will be displayed. Defaults to <code>FALSE</code>.</p></dd>


<dt id="arg-symmetric">symmetric<a class="anchor" aria-label="anchor" href="#arg-symmetric"></a></dt>
<dd><p>Boolean. If <code>TRUE</code>, the proposal will target only the right tail of the distribution, reducing the size of the cached proposal and making sampling more memory-efficient.
An additional uniform random number will be sampled to determine the sample's position relative to the mode of the distribution.
While this improves memory efficiency, the extra sampling may slightly impact performance, especially when the proposal efficiency is close to 1. Defaults to <code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The user does not need to store the returned value, because the package internally cashes the proposal. However, we explain here the full returned proposal for advanced users.</p>
<p>A list containing the optimized proposal and related parameters for the specified built-in distribution:</p><dl><dt><code>data</code></dt>
<dd><p>A data frame with detailed information about the proposal steps, including:</p><dl><dt><code>x</code></dt>
<dd><p>The start point of each step on the x-axis.</p></dd>

<dt><code>s_upper</code></dt>
<dd><p>The height of each step on the y-axis.</p></dd>

<dt><code>p_a</code></dt>
<dd><p>Pre-acceptance probability for each step.</p></dd>

<dt><code>s_upper_lower</code></dt>
<dd><p>A vector used to scale the uniform random number when the sample is accepted.</p></dd>


</dl></dd>

<dt><code>areas</code></dt>
<dd><p>A numeric vector containing the areas under:</p><dl><dt><code>left_tail</code></dt>
<dd><p>The left tail bound.</p></dd>

<dt><code>steps</code></dt>
<dd><p>The middle steps.</p></dd>

<dt><code>right_tail</code></dt>
<dd><p>The right tail bound.</p></dd>


</dl></dd>

<dt><code>steps_number</code></dt>
<dd><p>An integer specifying the number of steps in the proposal.</p></dd>

<dt><code>sampling_probabilities</code></dt>
<dd><p>A numeric vector with:</p><dl><dt><code>left_tail</code></dt>
<dd><p>The probability of sampling from the left tail.</p></dd>

<dt><code>left_and_middle</code></dt>
<dd><p>The combined probability of sampling from the left tail and middle steps.</p></dd>


</dl></dd>

<dt><code>unif_scaler</code></dt>
<dd><p>A numeric scalar, the inverse probability of sampling from the steps part of the proposal (\(\frac{1}{p(lower &lt; x &lt; upper)}\)). Used for scaling uniform random values.</p></dd>

<dt><code>lt_properties</code></dt>
<dd><p>A numeric vector of 5 values required for Adaptive Rejection Sampling (ARS) in the left tail.</p></dd>

<dt><code>rt_properties</code></dt>
<dd><p>A numeric vector of 6 values required for ARS in the right tail.</p></dd>

<dt><code>alpha</code></dt>
<dd><p>A numeric scalar representing the uniform step area.</p></dd>

<dt><code>tails_method</code></dt>
<dd><p>A string, either <code>"ARS"</code> (Adaptive Rejection Sampling) or <code>"IT"</code> (Inverse Transform), indicating the sampling method for the tails.</p></dd>

<dt><code>proposal_bounds</code></dt>
<dd><p>A numeric vector specifying the left and right bounds of the target density.</p></dd>

<dt><code>cnum</code></dt>
<dd><p>An integer representing the cache number of the created proposal in memory.</p></dd>

<dt><code>symmetric</code></dt>
<dd><p>A numeric scalar indicating the symmetry point of the proposal, or <code>NULL</code> if not symmetric.</p></dd>

<dt><code>f_params</code></dt>
<dd><p>A list of parameters for the target density that the proposal is designed for.</p></dd>





<dt><code>is_symmetric</code></dt>
<dd><p>A logical value indicating whether the proposal is symmetric.</p></dd>

<dt><code>proposal_type</code></dt>
<dd><p>A string indicating the type of the generated proposal:</p><dl><dt><code>"scaled"</code></dt>
<dd><p>The proposal is "scalable" and standardized with <code>mean = 0</code> and <code>sd = 1</code>. This is used when parameters <code>mean</code> and <code>sd</code> are either <code>NULL</code> or not provided. Scalable proposals are compatible with <code><a href="srnorm.html">srnorm</a></code>.</p></dd>

<dt><code>"custom"</code></dt>
<dd><p>The proposal is "custom" when either <code>mean</code> or <code>sd</code> is provided. Custom proposals are compatible with <code><a href="srnorm.html">srnorm_custom</a></code>.</p></dd>


</dl></dd>

<dt><code>target_function_area</code></dt>
<dd><p>A numeric scalar estimating the area of the target distribution.</p></dd>

<dt><code>dens_func</code></dt>
<dd><p>A string containing the hardcoded density function.</p></dd>

<dt><code>density_name</code></dt>
<dd><p>A string specifying the name of the target density distribution.</p></dd>

<dt><code>lock</code></dt>
<dd><p>An identifier used for saving and loading the proposal from disk.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>When <code>srnorm_optimize()</code> is explicitly called:</p><ul><li><p>A proposal is created and cached. If no parameters are provided, a standard proposal is created (<code>mean = 0</code>, <code>sd = 1</code>).</p></li>
<li><p>Providing <code>mean</code> or <code>sd</code> creates a custom proposal, which is cached for use with <code><a href="srnorm.html">srnorm_custom()</a></code>.</p></li>
<li><p>The optimization process can be controlled via parameters such as <code>steps</code>, <code>proposal_range</code>, or
<code>theta</code>. If no parameters are provided, the proposal is optimized via brute force based on the.
<code>target_sample_size</code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="srnorm.html">srnorm</a></code>: Function to sample from a scalable proposal generated by <code>srnorm_optimize()</code>.
<code><a href="srnorm.html">srnorm_custom</a></code>: Function to sample from a custom proposal tailored to user specifications.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Generate scalable proposal that with mean = 0 and sd = 1, that has 4096 steps</span></span></span>
<span class="r-in"><span><span class="va">scalable_proposal</span> <span class="op">&lt;-</span> <span class="fu">srnorm_optimize</span><span class="op">(</span>steps <span class="op">=</span> <span class="fl">4096</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate custom proposal that with mean = 2 and sd = 1</span></span></span>
<span class="r-in"><span><span class="va">scalable_proposal</span> <span class="op">&lt;-</span> <span class="fu">srnorm_optimize</span><span class="op">(</span>mean <span class="op">=</span> <span class="fl">2</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ahmad ALQabandi, Louis Aslett.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

